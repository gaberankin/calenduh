/*! jquery.calenduh 0.1.0 -  Gabe Rankin - 2014-06-18 */
(function(){var a,b;b=new Date,a=function(){function a(a){this.opts=$.extend(!0,this.opts,a),null!==this.opts.date&&this.setDate(this.opts.date,!1),"string"==typeof this.opts.target?this.opts.target=$(this.opts.target):"object"==typeof this.opts.target&&this.opts.target instanceof jQuery||(this.opts.target=null),null===this.opts.prevDayTemplate&&(this.opts.prevDayTemplate=this.opts.dayTemplate),null===this.opts.nextDayTemplate&&(this.opts.nextDayTemplate=this.opts.dayTemplate),this.render()}return a.prototype.opts={month:b.getMonth(),year:b.getFullYear(),date:null,renderPrevNext:!0,maxDate:null,minDate:null,availableClass:"available",unavailableClass:"unavailable",target:null,dayTemplate:'<span class="day">{day}</span>',prevDayTemplate:null,nextDayTemplate:null},a.localization={months:{1:["Jan","January"],2:["Feb","February"],3:["Mar","March"],4:["Apr","April"],5:["May","May"],6:["Jun","June"],7:["Jul","July"],8:["Aug","August"],9:["Sep","September"],10:["Oct","October"],11:["Nov","November"],12:["Dec","December"]},weekdays:{0:["S","Sun","Sunday"],1:["M","Mon","Monday"],2:["T","Tue","Tuesday"],3:["W","Wed","Wednesday"],4:["T","Thu","Thursday"],5:["F","Fri","Friday"],6:["S","Sat","Satuday"]}},a.prototype.setDate=function(a,b){return null==b&&(b=!0),a instanceof Date&&(this.opts.month=a.getMonth(),this.opts.year=a.getFullYear()),b?this.render():void 0},a.prototype.getDate=function(){return new Date(this.opts.year,this.opts.month,1)},a.prototype.getMonth=function(){return new Date(this.opts.year,this.opts.month,1).getMonth()},a.prototype.getYear=function(){return new Date(this.opts.year,this.opts.month,1).getFullYear()},a.prototype.render=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(n=new Date(this.opts.year,this.opts.month,1,0,0,0,0),i=new Date(this.opts.year,this.opts.month+1,1,0,0,0,0),o=new Date(n-1e3),f='<ul class="calenduh calenduh-cf">',6!==o.getDay())for(r=o.getMonth(),s=o.getFullYear(),p=o.getDate(),q=p-o.getDay(),t=0,d=u=q;p>=q?p>=u:u>=p;d=p>=q?++u:--u)f+='<li class="day-item prev-month day-'+t+(a.isToday(s,r,d)?" calenduh-today":"")+'" data-year="'+s+'" data-month="'+r+'" data-day="'+d+'">',this.opts.renderPrevNext&&(f+=this.opts.prevDayTemplate.replace(/{day}/g,d)),f+="</li>",t++;for(h=1,g=new Date(i-1e3).getDate(),e=new Date(this.opts.year,this.opts.month,1,0,0,0),b=e.getMonth(),c=e.getFullYear(),d=v=h;g>=h?g>=v:v>=g;d=g>=h?++v:--v)e=new Date(this.opts.year,this.opts.month,d,0,0,0),t=e.getDay(),f+='<li class="day-item current-month day-'+t+(a.isToday(c,b,d)?" calenduh-today":"")+'" data-year="'+c+'" data-month="'+b+'" data-day="'+d+'">'+this.opts.dayTemplate.replace(/{day}/g,d)+"</li>";if(6!==t)for(l=i.getMonth(),m=i.getFullYear(),k=1,j=6-t,d=w=k;j>=k?j>=w:w>=j;d=j>=k?++w:--w)f+='<li class="day-item next-month day-'+t+(a.isToday(m,l,d)?" calenduh-today":"")+'" data-year="'+m+'" data-month="'+l+'" data-day="'+d+'">',this.opts.renderPrevNext&&(f+=this.opts.nextDayTemplate.replace(/{day}/g,d)),f+="</li>",t++;return null===this.opts.target?f:void this.opts.target.html(f)},a.isToday=function(a,c,d){return null==c&&(c=!1),null==d&&(d=!1),c!==!1&&d!==!1&&(a=new Date(a,c,d)),a.getMonth()===b.getMonth()&&a.getFullYear()===b.getFullYear()&&a.getDate()===b.getDate()},a.format=function(b,c){var d,e,f,g,h,i,j,k;return null==c&&(c=null),null===c&&(c=b,b="mm/dd/yyyy"),d=c.getDate(),f=c.getMonth()+1,k=c.getFullYear(),e=10>d?"0"+d:d,g=10>f?"0"+f:f,h=a.localization.months[f+""][0],i=a.localization.months[f+""][1],j=(k+"").substr(2),b.replace(/yyyy/g,k).replace(/yy/g,j).replace(/mmmm/g,i).replace(/mmm/g,h).replace(/mm/g,g).replace(/m/g,f).replace(/dd/g,e).replace(/d/g,d)},a}(),function(b){b.fn.calenduh=function(c){return this.each(function(){var d,e,f,g,h,i;return g=b(this),h=this,this.isInput=g.is(":text"),e=b('<div class="calenduh-container"></div>').appendTo("body").hide(),f=b('<div class="calenduh-controls calenduh-cf">\n	<a class="prev-month">prev</a>\n	<span class="current-loc"></span>\n	<a class="next-month">next</a>\n</div>').appendTo(e),d=b('<div class="calenduh-calendar"></div>').appendTo(e),c.target=d,this.c=new a(c),i=null,d.on("mouseenter",".day-item",function(){var a,c,d,e;a=b(this),a.addClass("over-day"),e=a.attr("data-year"),d=a.attr("data-month"),c=a.attr("data-day"),g.trigger("calenduh.mouseenterday",[new Date(e,d,c)])}).on("mouseleave",".day-item",function(){var a,c,d,e;a=b(this),a.removeClass("over-day"),e=a.attr("data-year"),d=a.attr("data-month"),c=a.attr("data-day"),g.trigger("calenduh.mouseleaveday",[new Date(e,d,c)])}).on("click",".day-item",function(){var c,e,f,j,k,l,m;return c=b(this),c.hasClass("current-day")?void 0:(m=c.attr("data-year"),k=c.attr("data-month"),j=c.attr("data-day"),i=new Date(m,k,j),f=[i,null],e=b(".current-day",d),e.size()>0&&(m=e.attr("data-year"),k=e.attr("data-month"),j=e.attr("data-day"),f[1]=new Date(m,k,j)),e.removeClass("current-day"),c.addClass("current-day"),h.isInput&&(l=a.format(f[0]),g.val(l)),g.trigger("calenduh.selectday",f))}),g.focus(function(){var a,b;b=g.position(),a=g.outerHeight(),e.css({position:"absolute",top:b.top+a,left:b.left}).show()}),f.on("click",".next-month",function(){var c;return c=h.c.getDate(),h.c.setDate(new Date(c.getFullYear(),c.getMonth()+1,1)),b(".current-loc",f).text(a.format("mmm yyyy",h.c.getDate())),null!==i&&b("li[data-year="+i.getFullYear()+"][data-month="+i.getMonth()+"][data-day="+i.getDate()+"]",d).addClass("current-day"),g.trigger("calenduh.nextmonth",[h.c.getDate()])}).on("click",".prev-month",function(){var c;return c=h.c.getDate(),h.c.setDate(new Date(c.getFullYear(),c.getMonth()-1,1)),b(".current-loc",f).text(a.format("mmm yyyy",h.c.getDate())),null!==i&&b("li[data-year="+i.getFullYear()+"][data-month="+i.getMonth()+"][data-day="+i.getDate()+"]",d).addClass("current-day"),g.trigger("calenduh.prevmonth",[h.c.getDate()])})})}}(jQuery)}).call(this);